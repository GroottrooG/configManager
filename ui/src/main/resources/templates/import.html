<!DOCTYPE html>
<html>
<head>
    <title>Import Configuration</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
<h2>Import Configuration</h2>

<!-- Include the toast fragment -->
<div th:replace="~{fragments/toast :: toast}"></div>

<!-- File input field -->
<input type="file" id="fileInput" accept=".zip" />


<!-- Bootstrap JS and Popper.js -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script>
    // Function to handle file upload
    document.getElementById('fileInput').addEventListener('change', function() {
        const file = this.files[0];
        if (file) {
            const formData = new FormData();
            formData.append('file', file);

            fetch('http://localhost:18080/api/import', {
                method: 'POST',
                body: formData,
            })
                .then(response => response.json())
                .then(data => {
                    showToast(data);
                })
                .catch(error => {
                    showToast('Error: ' + error.message);
                });
        }
    });
</script>
<script src="/js/toast.js"></script>
</body>
</html>
